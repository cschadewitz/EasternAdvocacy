{%set reps = __SELF__.representatives%}

<form
        data-request="{{__SELF__}}::onSearchZip"
        data-request-success="$('#zipCode').val('')"
        data-request-update="'{{__SELF__}}::results': '#go'"
        >
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="input-group">
                <input name="zipCode" type="text" id="zipCode" class="form-control" value=""/>
                <span class="input-group-btn">
                    <button type="submit" class="btn btn-primary">Search</button>
                </span>
            </div>
        </div>
        <ul class="list-group" id="go">
            <?php json_decode(reps);?>
            {% for rep in reps %}
                <li>
                    {rep}->{'first_name'} <button class="close pull-right">&times;</button>
                </li>
            {% else %}
                <li>
                    No results found <button class="close pull-right">&times;</button>
                </li>
            {% endfor %}
        </ul>
    </div>
</form>