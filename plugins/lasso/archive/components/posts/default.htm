{% set posts = __SELF__.posts %}
<div class="row">
    <article id="lasso-archive" class="col-md-6 col-md-offset-3">
        <header><h2>Archive</h2></header>

        <ul class="media-list">
            {% for post in posts %}
                <li class="media">
                    <div class="media-body">
                        <h4 class="media-heading post-subject">{{ post.subject }}</h4>
                        <p class="post-abstract">{{ post.abstract }} <a href="{{ [__SELF__.postPage|page, '/', post.id]|join  }}">Read More...</a></p>
                    </div>
                </li>
                <li class="divider"></li>
            {% else %}
                <li class="media">
                    <div class="media-body">
                        <h4 class="media-heading post-subject">{{ noPostsMessage }}</h4>
                    </div>
                </li>
            {% endfor %}
        </ul>
        <h3> {{ posts.getLastPage }}</h3>
        <h3> {{ posts.getCurrentPage }} </h3>
        <h3> {{ pageNumber }} </h3>
        {% if posts.getLastPage > 1 %}
        <ul class="pagination">
            {% if posts.getCurrentPage > 1 %}
            <li><a href="{{ this.page.baseFileName|page({ (pageParam): (posts.getCurrentPage-1) }) }}">&larr;</a></li>
            {% endif %}

            {% for page in 1..posts.getLastPage %}
            <li class="{{ posts.getCurrentPage == page ? 'active' : null }}">
                <a href="{{ this.page.baseFileName|page({ (pageNumber): page }) }}">{{ page }}</a>
            </li>
            {% endfor %}

            {% if posts.getLastPage > posts.getCurrentPage %}
            <li><a href="{{ this.page.baseFileName|page({ (pageParam): (posts.getCurrentPage+1) }) }}">&rarr;</a></li>
            {% endif %}
        </ul>
        {% endif %}
    </article>
</div>
